<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="leaflet.css">
        <style type="text/css">
            #map {
                position: absolute;
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
            }
        </style>
    </head>
    <body>
         <div id="map"/>
         <script src="leaflet.js"></script>
         <script src="leaflet.ajax.min.js"></script>
          <script src="L.TileLayer.Kartverket.min.js"></script>
          <script type="text/javascript">
            (function() {
                'use strict';

                var map = L.map('map').setView([65.5, 17.0], 4);

                var i, layer;
                var layers = L.tileLayer.kartverket.getLayers();

                var baseLayers = {};
                for (i = 0; i < layers.length; i++) {
                    layer = layers[i];
                    baseLayers[layer] = L.tileLayer.kartverket(layer);
                }
                baseLayers[layers[0]].addTo(map);
                L.control.layers(baseLayers).addTo(map);

                var overLayers = {
                  "Norwegian airspace": new L.GeoJSON.AJAX("luftrom.geojson", {
                         onEachFeature: function (feature, layer) {
                               layer.on('mouseover', function() {
                                   this.setStyle({
                                     'weight': 4,
                                     'fillOpacity': 0.25
                                   })})
                               layer.on('mouseout', function() {
                                   this.setStyle({
                                     'weight': 2,
                                     'fillOpacity': feature.properties['fillOpacity']
                                   })})

                               var source=feature.properties['source_href'];
                               layer.bindPopup(
                                   '<h2>'+feature.properties['name']+'</h2><br />'+
                                   'Class: '+feature.properties['class']+'<br />'+
                                   'Ceiling: '+feature.properties['to (m amsl)']+'m above MSL<br />'+
                                   'Floor: '+feature.properties['from (m amsl)']+'m above MSL<br />'+
                                   '<a href="'+source+'">Kilde (PDF)</a><br />'
                               );
                         },
                         style: function(feature) {
                             return feature.properties;
                         }
                    })
                };

                overLayers["Norwegian airspace"].addTo(map);
                L.control.layers(overLayers).addTo(map);


            }());
          </script>

</body></html>
